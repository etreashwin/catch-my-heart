<script>
let count = 0;
const target = 10;

const scoreEl = document.getElementById("score");
const overlay = document.getElementById("overlay");

function spawn(){

  const h = document.createElement("div");
  h.className = "heart";
  h.innerHTML = "❤️";

  // bigger for mobile
  h.style.fontSize = "40px";

  h.style.left = Math.random() * (window.innerWidth - 60) + "px";
  h.style.bottom = "-40px";

  // slower float
  h.style.animationDuration = "6s";

  function catchHeart(){
    count++;
    scoreEl.innerHTML = "Hearts: " + count + " ❤️";
    h.remove();

    if(count >= target){
      overlay.style.display = "flex";
      clearInterval(timer);
    }
  }

  // works for both desktop + mobile
  h.addEventListener("click", catchHeart);
  h.addEventListener("touchstart", catchHeart);

  document.body.appendChild(h);

  setTimeout(() => h.remove(), 6000);
}

const timer = setInterval(spawn, 900);
</script>
